#!/usr/local/bin/koios
#   koios-polos (axis of heaven) unit testing meta-language



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include public header                HFIX.h                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   global     gcc testing content                  - - - - - - - - - - - - -   static char *u_gcc_norm    = "HFIX_test.v02.return_type.c:3:1: warning: return type defaults to 'int' [-Wimplicit-int]";                                                                                                           
   global     gcc testing content                  - - - - - - - - - - - - -   static char *u_make_norm   = "make: *** [/usr/local/sbin/zeno_make:203: yJOBS_file.o] Error 1";                                                                                                                                    
   global     gcc testing content                  - - - - - - - - - - - - -   static char *u_header_norm = "yJOBS.h:311: warning: \"YJOBS_LOCAL\" redefined";
   global     gcc testing content                  - - - - - - - - - - - - -   static char *u_ld_norm     = "/usr/libexec/gcc/x86_64-pc-linux-gnu/ld: /usr/local/lib64/libyJOBS_debug.so: undefined reference to `yENV_score_mark'";
   global     gcc testing content                  - - - - - - - - - - - - -   static char *u_unit_norm   = "HFIX_gcc.unit:48:1: error: code verb can not xyz";
   global     gcc testing content                  - - - - - - - - - - - - -   static char *u_munit_norm  = "koios_base.munit:25:12: warning: unused variable 'rc_final' [-Wunused-variable]";
   global     gcc testing content                  - - - - - - - - - - - - -   static char *u_make_recurs = "make[1]: *** [/usr/local/sbin/zeno_make:543: yJOBS_action.o] Error 1";
   global     gcc testing content                  - - - - - - - - - - - - -   static char *u_gcc_2func   = "yJOBS_world.c:373:9: warning: implicit declaration of function 'yENV_open_full'; did you mean 'yENV_user_full'? [-Wimplicit-function-declaration]";
   global     create global/shared variable        - - - - - - - - - - - - -   static char u_error    [LEN_FULL]  = "";                                                                                                                                                                                   
   global     create global/shared variable        - - - - - - - - - - - - -   static char u_shown    [LEN_FULL]  = "";                                                                                                                                                                                   






#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
GLOBAL   -A-  add single file                                                     0s  one             -                                                                            ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify creating base layer                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     make file                            yENV_touch                  "/tmp/HFIX.test/HFIX_base.c"            , "root"    , "root"    , "d_open"                            c_equal     'r'                                                                                                  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
GLOBAL   -B-  add another two                                                     0s  two             -                                                                            ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       create a couple more files                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     make file                            yENV_touch                  "/tmp/HFIX.test/HFIX_comp.c"            , "root"    , "root"    , "d_open"                            c_equal     'r'                                                                                                  
     exec     make file                            yENV_touch                  "/tmp/HFIX.test/HFIX_gcc.c"             , "root"    , "root"    , "d_open"                            c_equal     'r'                                                                                                  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
GLOBAL   -C-  add another five more                                               0s  five            -                                                                            ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       create a couple more files                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     make file                            yENV_touch                  "/tmp/HFIX.test/HFIX_ld.c"              , "root"    , "root"    , "d_open"                            c_equal     'r'                                                                                                  
     exec     make file                            yENV_touch                  "/tmp/HFIX.test/HFIX_main.c"            , "root"    , "root"    , "d_open"                            c_equal     'r'                                                                                                  
     exec     make file                            yENV_touch                  "/tmp/HFIX.test/HFIX_make.c"            , "root"    , "root"    , "d_open"                            c_equal     'r'                                                                                                  
     exec     make file                            yENV_touch                  "/tmp/HFIX.test/HFIX_prog.c"            , "root"    , "root"    , "d_open"                            c_equal     'r'                                                                                                  
     exec     make file                            yENV_touch                  "/tmp/HFIX.test/HFIX_show.c"            , "root"    , "root"    , "d_open"                            c_equal     'r'                                                                                                  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
GLOBAL   -D-  add another enough to be serious                                    0s  serious         -                                                                            ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       create a couple more files                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     make file                            yENV_touch                  "/tmp/HFIX.test/HFIX_test01.c"          , "root"    , "root"    , "d_open"                            c_equal     'r'                                                                                                  
     exec     make file                            yENV_touch                  "/tmp/HFIX.test/HFIX_test02.c"          , "root"    , "root"    , "d_open"                            c_equal     'r'                                                                                                  
     exec     make file                            yENV_touch                  "/tmp/HFIX.test/HFIX_test03.c"          , "root"    , "root"    , "d_open"                            c_equal     'r'                                                                                                  
     exec     make file                            yENV_touch                  "/tmp/HFIX.test/HFIX_test04.c"          , "root"    , "root"    , "d_open"                            c_equal     'r'                                                                                                  
     exec     make file                            yENV_touch                  "/tmp/HFIX.test/HFIX_test05.c"          , "root"    , "root"    , "d_open"                            c_equal     'r'                                                                                                  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
GLOBAL   -E-  verify creating a base layer as output                              0s  base            -                                                                            ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       åwirmæ verify creating wipe base                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     åw···æ call ready                    BASE_ready                  'w'     , 'w'     , 'w'     , '-'     , 'y'                                                           z_equal     1                                                                                                    
     exec     å·i··æ call ready                    BASE_ready                  'i'     , 'i'     , 'i'     , '-'     , 'y'                                                           z_equal     1                                                                                                    
     exec     å··r·æ call ready                    BASE_ready                  'r'     , 'r'     , 'r'     , '-'     , 'y'                                                           z_equal     1                                                                                                    
     exec     å···mæ call ready                    BASE_ready                  'm'     , 'm'     , 'm'     , '-'     , 'y'                                                           z_equal     1                                                                                                    
     exec     åwirmæ call clear                    BASE_clear                  my.m_desc                                                                                             z_equal     0                                                                                                    
     exec     åwirmæ call base                     MAINT__base                 my.m_theme                                                                                            z_equal     23                                                                                                   
     exec     åwirmæ call export                   EXIM_export                 my.m_theme   , '?'          , HFIX_BUF                                                                z_equal     0                                                                                                    

   COND       åw···æ verify wipe base                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     åw···æ verify output                 yENV_lines                  HFIX_BUF                                                                                              z_equal     12                                                                                                   
     exec     åw···æ ... review header             yENV_peek                   HFIX_BUF                      , '['                                                                   w_equal     åHFIX·gcc/make·(----)··chosen··(w:wipe)·=·recon·of·files·to·be·cleared···········(¬¬¬¬)·······································································[?]æ
     exec     åw···æ ... review line               yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åunit·header·····-···-···-·   main·src·strp···-···-···-·   temp·files······-···-···-·                                                                      [?]æ
     exec     åw···æ ... review line               yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åunit·src········-···-···-·   main·obj········-···-···-·   save·CAUTION····-···-···-·                                                                      [?]æ
     exec     åw···æ ... review line               yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åunit·src·strp···-···-···-·   main·obj·strp···-···-···-·   swap·CAUTION····-···-···-·                                                                      [?]æ
     exec     åw···æ ... review line               yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åunit·obj········-···-···-·   main·exec·······-···-···-·   HFIX·working····-···-···-·                                                                      [?]æ
     exec     åw···æ ... review line               yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åunit·obj·strp···-···-···-·   main·debug······-···-···-·   HTAG·working····-···-···-·                                                                      [?]æ
     exec     åw···æ ... review line               yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åunit·exec·······-···-···-·   main·shared·····-···-···-·   polymnia·work···-···-···-·                                                                      [?]æ
     exec     åw···æ ... review line               yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åunit·debug······-···-···-·   main·static·····-···-···-·   fat·fingers·····-···-···-·                                                                      [?]æ
     exec     åw···æ ... review line               yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åunit·output·····-···-···-·   ··························   ··························                                                                      [?]æ
     exec     åw···æ ... review footer             yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åunit·work·······-···-···-·   ··························   wipe····-····-····-·····-·                                                                      [?]æ
     exec     åw···æ ... review timings            yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åpid=0             cnt=0             beg=0             cur=0             end=0                                                                                [?]æ                                                                           
     exec     åw···æ ... review whoami             yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åwho=HFIX_         ext=              don=- ········ sta=- ········ res=? ········ err=-                                                                       [?]æ                                                                           
     exec     åw···æ ... review bottom             yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     å(n/a)æ                                                                                               

   COND       å·irmæ verify install, remove, manual type                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     å·irmæ verify output                 yENV_lines                  HFIX_BUF                                                                                              z_equal     12                                                                                                   
     exec     å·i··æ ... review header             yENV_peek                   HFIX_BUF                      , '['                                                                   w_equal     åHFIX·gcc/make·(----)··chosen··(i:inst)·=·recon·of·files·to·be·installed·········(¬¬¬¬)·······································································[?]æ
     exec     å··r·æ ... review header             yENV_peek                   HFIX_BUF                      , '['                                                                   w_equal     åHFIX·gcc/make·(----)··chosen··(r:remv)·=·recon·of·files·to·be·removed···········(¬¬¬¬)·······································································[?]æ
     exec     å···mæ ... review header             yENV_peek                   HFIX_BUF                      , '['                                                                   w_equal     åHFIX·gcc/make·(----)··chosen··(m:mans)·=·recon·of·manuals·to·be·installed·······(¬¬¬¬)·······································································[?]æ
     exec     å·irmæ ... review line               yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åmain·exec·······-···-···-·   man·end-user····-···-···-·   bash·script·····-···-···-·                                                                      [?]æ
     exec     å·irmæ ... review line               yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åmain·debug······-···-···-·   man·interface···-···-···-·   script·link·····-···-···-·                                                                      [?]æ
     exec     å·irmæ ... review line               yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åmain·shared·····-···-···-·   man·shared······-···-···-·   vim·script······-···-···-·                                                                      [?]æ
     exec     å·irmæ ... review line               yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åmain·static·····-···-···-·   man·files·······-···-···-·   solo·header·····-···-···-·                                                                      [?]æ
     exec     å·irmæ ... review line               yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åmain·links······-···-···-·   man·interact····-···-···-·   uver·header·····-···-···-·                                                                      [?]æ
     exec     å·irmæ ... review line               yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     å··························   man·purpose·····-···-···-·   main·header·····-···-···-·                                                                      [?]æ
     exec     å·irmæ ... review line               yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     å··························   man·sys-admin···-···-···-·   ··························                                                                      [?]æ
     exec     å·irmæ ... review line               yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     å··························   man·gui·stds····-···-···-·   ··························                                                                      [?]æ
     exec     å·i··æ ... review footer             yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     å··························   ··························   inst····-····-····-·····-·                                                                      [?]æ
     exec     å··r·æ ... review footer             yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     å··························   ··························   remo····-····-····-·····-·                                                                      [?]æ
     exec     å···mæ ... review footer             yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     å··························   ··························   mans····-····-····-·····-·                                                                      [?]æ
     exec     å·irmæ ... review timings            yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åpid=0             cnt=0             beg=0             cur=0             end=0                                                                                [?]æ                                                                           
     exec     å·i··æ ... review whoami             yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åwho=HFIX_         ext=              don=- ········ sta=- ········ res=? ········ err=-                                                                       [?]æ                                                                           
     exec     å··r·æ ... review whoami             yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åwho=HFIX_         ext=              don=- ········ sta=- ········ res=? ········ err=-                                                                       [?]æ                                                                           
     exec     å···mæ ... review whoami             yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     åwho=HFIX_         ext=              don=- ········ sta=- ········ res=? ········ err=-                                                                       [?]æ                                                                           
     exec     å·irmæ ... review bottom             yENV_peek                   HFIX_BUF                      , '>'                                                                   w_equal     å(n/a)æ                                                                                               



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
GLOBAL   -Z-  clear out working files                                             0s  clear           -                                                                            ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       remove testing                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     remove file                          yENV_rm                     "/tmp/HFIX.test/HFIX_base.c"                                                                          c_equal     '-'                                                                                                  
     exec     remove file                          yENV_rm                     "/tmp/HFIX.test/HFIX_comp.c"                                                                          c_equal     '-'                                                                                                  
     exec     remove file                          yENV_rm                     "/tmp/HFIX.test/HFIX_gcc.c"                                                                           c_equal     '-'                                                                                                  
     exec     remove file                          yENV_rm                     "/tmp/HFIX.test/HFIX_ld.c"                                                                            c_equal     '-'                                                                                                  
     exec     remove file                          yENV_rm                     "/tmp/HFIX.test/HFIX_main.c"                                                                          c_equal     '-'                                                                                                  
     exec     remove file                          yENV_rm                     "/tmp/HFIX.test/HFIX_make.c"                                                                          c_equal     '-'                                                                                                  
     exec     remove file                          yENV_rm                     "/tmp/HFIX.test/HFIX_prog.c"                                                                          c_equal     '-'                                                                                                  
     exec     remove file                          yENV_rm                     "/tmp/HFIX.test/HFIX_show.c"                                                                          c_equal     '-'                                                                                                  
     exec     remove file                          yENV_rm                     "/tmp/HFIX.test/HFIX_test01.c"                                                                        c_equal     '-'                                                                                                  
     exec     remove file                          yENV_rm                     "/tmp/HFIX.test/HFIX_test02.c"                                                                        c_equal     '-'                                                                                                  
     exec     remove file                          yENV_rm                     "/tmp/HFIX.test/HFIX_test03.c"                                                                        c_equal     '-'                                                                                                  
     exec     remove file                          yENV_rm                     "/tmp/HFIX.test/HFIX_test04.c"                                                                        c_equal     '-'                                                                                                  
     exec     remove file                          yENV_rm                     "/tmp/HFIX.test/HFIX_test05.c"                                                                        c_equal     '-'                                                                                                  
     exec     remove file                          yENV_rm                     "/tmp/HFIX.test/HFIX.tmp"                                                                             c_equal     '-'                                                                                                  
     exec     remove file                          yENV_rm                     "/tmp/HFIX.test/HFIX.log"                                                                             c_equal     '-'                                                                                                  
     exec     remove file                          yENV_rm                     "/tmp/HFIX.test/HFIX.out"                                                                             c_equal     '-'                                                                                                  
     exec     remove file                          yENV_rm                     "/tmp/HFIX.test/HFIX.buf"                                                                             c_equal     '-'                                                                                                  
     exec     remove directory                     yENV_rmdir                  "/tmp/HFIX.test/"                                                                                     c_equal     '-'                                                                                                  
